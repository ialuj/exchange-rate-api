DROP TABLE IF EXISTS EXCHANGE_RATE;
DROP TABLE IF EXISTS PROVIDER;
DROP TABLE IF EXISTS CURRENCY;

--- PROVIDER ---
CREATE TABLE IF NOT EXISTS PROVIDER
(ID INT AUTO_INCREMENT NOT NULL,
 DESIGNATION VARCHAR(255) NOT NULL,
 BASE_CURRENCY VARCHAR(50) NOT NULL,
 PRIMARY KEY(ID));

--- CURRENCY ---
CREATE TABLE IF NOT EXISTS CURRENCY
(ID INT AUTO_INCREMENT NOT NULL,
 DESIGNATION VARCHAR(255) NOT NULL,
 CODE VARCHAR(50) NOT NULL,
 PRIMARY KEY(ID));

--- EXCHANGE_RATE ---
CREATE TABLE IF NOT EXISTS EXCHANGE_RATE
(ID INT AUTO_INCREMENT NOT NULL,
 CURRENCY_ID VARCHAR(255) NOT NULL,
 PROVIDER_ID NUMERIC(20, 2) NOT NULL,
 PURCHASE NUMERIC(20, 2) NOT NULL,
 SALE NUMERIC(20, 2) NOT NULL,
 CREATED_AT DATE NOT NULL,
 PRIMARY KEY(ID),
 FOREIGN KEY(CURRENCY_ID) REFERENCES CURRENCY(ID),
 FOREIGN KEY(PROVIDER_ID) REFERENCES PROVIDER(ID));


--- INSERTS ---

--- PROVIDER ---
INSERT INTO PROVIDER(ID, DESIGNATION, BASE_CURRENCY)
VALUES
(1, 'BCI', 'MZN'),
(2, 'BIM', 'MZN');

--- CURRENCY ---
INSERT INTO CURRENCY(ID, DESIGNATION, CODE)
VALUES
(1, 'EURO', 'EUR'),
(2, 'BRITISH POUND', 'GBP'),
(3, 'AMERICAN DOLLAR', 'USD'),
(4, 'RAND', 'ZAR');

--- EXCHANGE_RATE ---
INSERT INTO EXCHANGE_RATE(ID, CURRENCY_ID, PROVIDER_ID, PURCHASE, SALE, CREATED_AT)
VALUES
(1, 1, 1, 72.570, 74.510, CURRENT_DATE),
(2, 2, 1, 84.850, 86.540, CURRENT_DATE),
(3, 3, 1, 63.200, 64.460, CURRENT_DATE),
(4, 4, 1, 4.100, 4.180, CURRENT_DATE),
(5, 1, 2, 72.571, 74.515, CURRENT_DATE),
(6, 2, 2, 84.840, 86.510, CURRENT_DATE),
(7, 3, 2, 63.201, 64.455, CURRENT_DATE),
(8, 4, 2, 4.110, 4.220, CURRENT_DATE);

